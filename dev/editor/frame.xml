<Ui xmlns="http://www.blizzard.com/wow/ui/">

  <!-- "enableKeyboard=false propagateKeyboardInput=true" is intentional;
       when we have keyboard focus, we consume all input, but we don't take
       that focus unless we also have mouse focus (controlled by OnEnter
       and OnLeave handlers). -->
  <Frame name="WoWXIV_EditorFrameTemplate" virtual="true" frameStrata="HIGH" frameLevel="9000" parent="UIParent" enableMouse="true" enableKeyboard="false" propagateKeyboardInput="false" movable="true" dontSavePosition="true">

    <size x="759" y="473"/>
    <Anchors>
      <Anchor point="CENTER" y="100"/>
    </Anchors>

    <!-- Border structure follows SettingsPanelTemplate -->

    <Layers>
      <Layer level="BACKGROUND" textureSubLevel="-6">
        <Texture parentKey="Background">
          <Color r="0.0" g="0.0" b="0.0" a="0.75"/>
          <Anchors>
            <Anchor point="TOPLEFT" x="6" y="-22"/>
            <Anchor point="BOTTOMRIGHT" x="-2" y="3"/>
          </Anchors>
        </Texture>
      </Layer>
      <Layer level="ARTWORK">
        <!-- Command line horizontal divider -->
        <Texture parentKey="Divider" file="Interface/DialogFrame/UI-DialogBox-Divider">
          <TexCoords left="0" right="0.6875" top="0" bottom="0.5"/>
          <TextureSliceMargins left="8" right="9" top="0" bottom="0"/>
          <TextureSliceMode mode="Stretched"/>
          <Size y="16"/>
          <Anchors>
            <Anchor point="TOPLEFT" relativePoint="BOTTOMLEFT" x="5" y="36"/>
            <Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" x="-2" y="36"/>
          </Anchors>
        </Texture>
      </Layer>
    </Layers>

    <Frames>
      <Frame parentKey="Border" inherits="NineSlicePanelTemplate" frameLevel="9001">
        <KeyValues>
          <KeyValue key="layoutType" value="ButtonFrameTemplateNoPortrait" type="string"/>
        </KeyValues>
        <Frames>
          <Frame parentKey="TitleBarHandle" enableMouse="true">
            <Anchors>
              <Anchor point="TOPLEFT" x="8" y="-4"/>
              <Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" x="-23" y="-21"/>
            </Anchors>
            <Scripts>
              <OnLoad>self:RegisterForDrag("LeftButton")</OnLoad>
              <OnEnter>self:GetParent():GetParent():OnEnter()</OnEnter>
              <OnLeave>self:GetParent():GetParent():OnLeave()</OnLeave>
              <OnMouseDown>self:GetParent():GetParent():OnTitleMouseDown(button)</OnMouseDown>
              <OnMouseUp>self:GetParent():GetParent():OnTitleMouseUp(button)</OnMouseUp>
            </Scripts>
          </Frame>
        </Frames>
        <Layers>
          <Layer level="OVERLAY">
            <FontString parentKey="Title" inherits="GameFontNormal" wordwrap="false" text="Editor">
              <Anchors>
                <Anchor point="TOP" y="-6"/>
                <Anchor point="LEFT" x="20"/>
                <Anchor point="RIGHT" x="-20"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>

      <Button parentKey="CloseButton" inherits="UIPanelCloseButtonDefaultAnchors" frameLevel="9002">
        <Scripts>
          <OnClick>self:GetParent():Close()</OnClick>
          <OnEnter>self:GetParent():OnEnter()</OnEnter>
          <OnLeave>self:GetParent():OnLeave()</OnLeave>
        </Scripts>
      </Button>

      <Frame parentKey="TextView">
        <Anchors>
          <Anchor point="TOPLEFT" x="20" y="-26"/>
          <Anchor point="BOTTOMRIGHT" x="-5" y="36"/>
        </Anchors>
        <Frames>
          <EventFrame parentKey="ScrollBar" inherits="MinimalScrollBar">
            <Anchors>
              <Anchor point="TOPRIGHT" relativePoint="TOPLEFT" x="-3"/>
              <Anchor point="BOTTOMRIGHT" relativePoint="BOTTOMLEFT" x="-3"/>
            </Anchors>
          </EventFrame>
        </Frames>
      </Frame>

      <Frame parentKey="CommandLine">
        <Anchors>
          <Anchor point="BOTTOMLEFT" y="4"/>
          <Anchor point="TOPRIGHT" relativePoint="BOTTOMRIGHT" y="24"/>
        </Anchors>
        <Layers>
          <Layer level="ARTWORK">
            <FontString parentKey="Text" justifyH="LEFT" wordwrap="false">
              <Anchors>
                <Anchor point="TOPLEFT" x="11"/>
                <Anchor point="BOTTOMRIGHT" x="-5"/>
              </Anchors>
            </FontString>
          </Layer>
        </Layers>
      </Frame>
    </Frames>

    <Scripts>
      <OnChar>self:OnChar(text)</OnChar>
      <OnDragStart>self:OnDragStart(button)</OnDragStart>
      <OnDragStop>self:OnDragStop()</OnDragStop>
      <OnEnter>self:OnEnter()</OnEnter>
      <OnKeyDown>self:OnKeyDown(key)</OnKeyDown>
      <OnKeyUp>self:OnKeyUp(key)</OnKeyUp>
      <OnLeave>self:OnLeave()</OnLeave>
      <OnMouseDown>self:OnMouseDown(button)</OnMouseDown>
      <OnMouseUp>self:OnMouseUp(button)</OnMouseUp>
      <OnMouseWheel>self:OnMouseWheel(delta)</OnMouseWheel>
    </Scripts>

  </Frame>

</Ui>
